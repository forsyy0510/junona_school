# Улучшения для прохождения проверки VIKON (максимальная эффективность)

По результатам проверки VIKON (Таблица 2): все 14 разделов присутствуют, но «Наличие атрибутов» и «Заполненность» низкие (29.58% и 27.81%). Ниже — что исправлено и что проверить дополнительно.

---

## Внесённые исправления

### 1. Структура и органы управления (раздел 2)

- **Проблема:** VIKON ожидает для главных тегов `structOrgUprav`, `filInfo`, `repInfo` тип **ItemList**, а в шаблоне был указан **Organization**.
- **Исправление:** Для блоков «Структурное подразделение», «Филиал», «Представительство» в `section.html` задано `itemtype="https://schema.org/ItemList"` вместо `Organization`.
- **Результат:** Проверка «Наличие атрибутов» для раздела «Структура» должна проходить.

### 2. Образование (раздел 4)

- **Проблема:** Обязательный атрибут **eduOp** (образовательные программы) выводился только при наличии данных; при пустом списке программ атрибут отсутствовал в разметке.
- **Исправление:** Блок «Образовательные программы» и список с `itemprop="eduOp"` выводятся всегда. При отсутствии данных список пустой, но тег `itemprop="eduOp"` присутствует.
- **Результат:** VIKON всегда видит атрибут eduOp, что повышает «Наличие атрибутов» и «Заполненность».

### 3. Структура — атрибуты при пустых полях

- **Проблема:** В блоках структуры (ФИО, Должность и т.д.) при пустом значении выводилось только «не заполнено» без `itemprop`, и атрибуты не учитывались проверкой.
- **Исправление:** Для пустых полей «Наименование», «ФИО», «Должность» и т.п. добавлены соответствующие `itemprop` (name/nameFil/nameRep, fio/fioFil/fioRep, post/postFil/postRep) с текстом «не заполнено».
- **Результат:** Атрибуты присутствуют в разметке даже при пустых полях, что улучшает показатель «Наличие атрибутов».

### 4. Организация питания (раздел 14)

- **Проблема:** На странице «Питание» отсутствовал контейнер с `itemprop="cateringOrganization"`, поэтому VIKON не находил раздел.
- **Исправление:** В блоке вывода раздела `food` добавлен контейнер с `itemprop="cateringOrganization"`, `itemscope`, `itemtype="https://schema.org/ItemList"` и заголовком раздела.
- **Результат:** Локальная проверка `scripts/check_microdata_vikon.py` проходит по всем 14 разделам без ошибок.

---

## Что уже соответствует VIKON

- **Основные сведения:** главный контейнер, учредитель, места осуществления — разметка в порядке (раздел проходит проверку).
- **Документы:** контейнер `itemprop="documents"` с `itemtype="https://schema.org/ItemList"`, каждая строка — MediaObject с `contentUrl` (в т.ч. «файл отсутствует»).
- **Руководство:** контейнер `management` с ItemList, вложенные `rucovodstvo` и `rucovodstvoZam` с Person, поля fio/post/telephone/email с `itemprop` (в т.ч. при «не заполнено» через общий блок полей).
- **Разделы 5–14:** у контейнеров (standards, management, teachers, facilities, scholarships, paid-services, finance, vacancies, international, food) заданы нужные `itemprop` и `itemtype="https://schema.org/ItemList"`. Для раздела «Организация питания» добавлен контейнер `cateringOrganization`.

---

## Рекомендации для дальнейшего повышения баллов

### Заполненность (контент)

1. **Заполнить данные во всех разделах** через «Мастер заполнения»: текст, документы, файлы, списки (программы, педагоги, вакансии и т.д.). Пустые разделы снижают «Заполненность».
2. **Образование:** заполнить «Реализуемые образовательные программы», «Учебные планы» (НОО/ООО/СОО), «Календарный график», «Численность», «Языки», «Трудоустройство выпускников».
3. **Документы:** по возможности приложить файлы ко всем пунктам таблицы документов (устав, лицензия, аккредитация, ПВР, приём и т.д.).
4. **Руководство:** ФИО, должность, телефон, email руководителя и при необходимости заместителей.
5. **Педагогический состав, МТО, стипендии, платные услуги, финансы, вакансии, международное сотрудничество, питание:** заполнить обязательные и желательные поля по методическим рекомендациям.

### Наличие атрибутов (разметка)

1. **Локальная проверка:** из корня проекта запустить  
   `python scripts/check_microdata_vikon.py`  
   (при необходимости предварительно добавить в скрипт путь к корню проекта для импорта `app`). Исправить все сообщаемые ошибки и по возможности предупреждения.
2. **Проверка в браузере:** на каждой странице раздела «Сведения» (например, `/sveden/struct`, `/sveden/document`, `/sveden/education` и т.д.) открыть «Просмотр кода страницы» (Ctrl+U) и убедиться, что в HTML есть нужные `itemprop`, `itemscope`, `itemtype` и что они не зависят от JavaScript.
3. **Главная страница сведений:** на странице с перечнем разделов должен быть один контейнер с `itemtype="https://schema.org/EducationalOrganization"` и `itemscope`; внутри — элемент с `itemprop="name"` (название ОО).

### Проверка на сайте VIKON

1. После правок и заполнения контента снова отправить сайт на проверку: https://db-nica.ru/ekspress-proverka (или актуальный адрес VIKON).
2. Сверить отчёт VIKON с разделом «Типы проблем» в `docs/VIKON_CHECK_README.md` и при необходимости донастроить разметку по скрипту `check_microdata_vikon.py`.

---

## Итог

- Исправлены: тип контейнеров структуры (ItemList), постоянное наличие eduOp, вывод itemprop при пустых полях в структуре, контейнер cateringOrganization для раздела «Организация питания».
- Локальная проверка `python scripts/check_microdata_vikon.py` проходит по всем 14 разделам без ошибок.
- Для максимального результата на сайте VIKON (db-nica.ru) нужно: **заполнить контент** во всех 14 разделах через мастер и разделы сайта — пустые разделы снижают показатель «Заполненность».
