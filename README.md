# Юнона — Современный сайт школы на Flask

## Описание

Многофункциональный сайт образовательной организации с:
- Адаптивным и современным дизайном
- Публичными страницами (новости, объявления, проекты, фотоальбомы, сведения, контакты и др.)
- Системой управления контентом с мастером заполнения
- Авторизацией и разграничением прав
- Загрузкой файлов и документов
- Централизованной конфигурацией

---

## Быстрый старт

### 1. Клонирование и установка зависимостей
```bash
# Клонируйте репозиторий
$ git clone <repo_url>
$ cd site_junona

# Создайте и активируйте виртуальное окружение (Windows)
$ python -m venv .venv
$ .venv\Scripts\activate

# Установите зависимости
$ pip install -r requirements.txt
```

### 2. Запуск приложения
```bash
$ python app.py
```

Сайт будет доступен по адресу: http://127.0.0.1:5000

### 3. Создание администратора
```bash
$ python -c "
from app import create_app
from models.models import User
from database import db
app = create_app()
with app.app_context():
    admin = User(username='admin', is_admin=True)
    admin.set_password('admin123')
    db.session.add(admin)
    db.session.commit()
    print('Администратор создан: admin/admin123')
"
```

---

## Структура проекта

```
site_junona/
├── app.py                 # Главный файл приложения
├── config.py              # Централизованная конфигурация
├── database.py            # Настройка базы данных
├── requirements.txt       # Зависимости
├── .gitignore            # Исключения для Git
├── models/               # Модели данных
│   └── models.py
├── templates/            # HTML шаблоны
│   ├── base.html
│   ├── main/            # Главная страница
│   ├── info/            # Информационные разделы
│   ├── news/            # Новости
│   ├── announcements/   # Объявления
│   ├── albums/          # Фотоальбомы
│   ├── projects/        # Проекты
│   ├── sidebar/         # Боковое меню
│   └── users/           # Пользователи
├── static/              # Статические файлы
│   ├── style.css
│   ├── main.js
│   └── images/
├── uploads/             # Загруженные файлы
└── instance/            # База данных SQLite
```

---

## Модули

- **main** - главная страница и основные разделы
- **info** - система управления информационными разделами с мастером заполнения
- **news** - новости с возможностью загрузки изображений
- **announcements** - объявления
- **albums** - фотоальбомы
- **projects** - проекты и достижения
- **sidebar** - боковое меню с дополнительной информацией
- **users** - система пользователей и авторизации

---

## Пользовательские страницы

- Новости: `/news` и `/news/<id>`
- Объявления: `/announcements` и `/announcements/<id>`
- Проекты: `/projects` и `/projects/<id>`
- Фотоальбомы: `/albums` и `/albums/<id>`
- Сведения: `/info/<section>` (например, `/info/main`)
- Контакты: `/contacts`
- О школе: `/about`
- Поиск: `/search`
- Карта сайта: `/sitemap`

---

## Управление контентом

1. Войдите в систему как администратор
2. Используйте мастер заполнения для редактирования разделов
3. Загружайте файлы через интерфейс
4. Управляйте новостями и объявлениями

---

## Конфигурация

Настройки приложения находятся в файле `config.py`:

- `SECRET_KEY` - секретный ключ для сессий
- `DATABASE_URL` - URL базы данных
- `UPLOAD_FOLDER` - папка для загрузок
- `MAX_CONTENT_LENGTH` - максимальный размер файла (16MB)
- `HOST`, `PORT`, `DEBUG` - настройки сервера

---

## Требования

- Python 3.8+
- Все зависимости указаны в `requirements.txt`

---

## Утилиты

- `file_manager.py` - централизованное управление файлами
- `cleanup_project.py` - очистка проекта от неиспользуемых файлов

---

## Советы

- Для продакшена используйте WSGI-сервер (gunicorn, uwsgi)
- Не храните секретные ключи в открытом виде
- Регулярно делайте бэкапы базы данных
- Используйте переменные окружения для конфигурации

---

## Контакты

Для вопросов и поддержки — обратитесь к разработчику проекта.